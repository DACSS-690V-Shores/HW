invisible(lapply(my_packages, require, character.only = TRUE)) # load multiple packages
# Jitter w/ error bars
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "blue",
alpha = 0.2 #transparency
)
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_errorbar(stat = "summary",
color = "gold",
width = .2)
jitterMEANs
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_errorbar(stat = "summary",
color = "gold",
size = 1.5,
width = .2)
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_errorbar(stat = "summary",
color = "gold",
linewidth = 1.5,
width = .2)
jitterMEANs
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_errorbar(stat = "summary",
color = "darkorange",
linewidth = 1.5,
width = .2)
jitterMEANs
tapply(arrests$Age,arrests$Arrest_Type, summary)
# Boxplot
baseArrest = ggplot(data = arrests,
aes(x = Arrest_Type, y = Age))
boxArrest = baseArrest + geom_boxplot() + labs(title = "woof")
boxArrest
# Boxplot
baseArrest = ggplot(data = arrests,
aes(x = fct_infreq(Arrest_Type),
y = Age))
boxArrest = baseArrest + geom_boxplot() + labs(title = "woof")
x = fct_infreq(Arrest_Type)
# Boxplot
baseArrest = ggplot(data = arrests,
aes(x = fct_infreq(Arrest_Type),
y = Age))
boxArrest = baseArrest + geom_boxplot() + labs(title = "woof")
boxArrest
# Jitter w/ error bars
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "blue",
alpha = 0.2 #transparency
)
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_errorbar(stat = "summary",
color = "darkorange",
linewidth = 1.5,
width = .2)
jitterMEANs
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.3, fill = "blue")  # Adjust alpha for transparency
jitterMEANs
# Jitter w/ error bars
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "blue",
alpha = 0.2 #transparency
)
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.3, fill = "orange")  # Adjust alpha for transparency
jitterMEANs
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.15, fill = "orange")  # Adjust alpha for transparency
jitterMEANs
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.15,
fill = "yellow",
color = "darkorange")  # Adjust alpha for transparency
jitterMEANs
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.15,
fill = "yellow",
color = "darkorange",  # Adjust alpha for transparency
linewidth = 1.5)
jitterMEANs
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.15,
fill = "yellow",
color = "darkorange",  # Adjust alpha for transparency
linewidth = 1)
jitterMEANs
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.15,
fill = "yellow",
color = "darkorange",  # Adjust alpha for transparency
linewidth = .75)
jitterMEANs
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.15,
fill = "yellow",
color = "darkorange",  # Adjust alpha for transparency
linewidth = .5)
jitterMEANs
# Jitter w/ error bars
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "blue",
alpha = 0.5 #transparency
)
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.15,
fill = "yellow",
color = "darkorange",  # Adjust alpha for transparency
linewidth = .5)
jitterMEANs
jitterMEANs = baseMEANs + geom_jitter(color = "blue",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.15,
fill = "yellow",
color = "darkorange",  # Adjust alpha for transparency
linewidth = .5)
jitterMEANs
# Jitter w/ error bars
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "blue",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.15,
fill = "yellow",
color = "darkorange",  # Adjust alpha for transparency
linewidth = 1.5)
jitterMEANs
# Jitter w/ error bars
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "blue",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "yellow",
color = "darkorange",
linewidth = 1.5)
jitterMEANs
# Jitter w/ error bars
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "blue",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "orange",
color = "brown",
linewidth = 1.5)
jitterMEANs
# Jitter w/ error bars
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1.5)
jitterMEANs
# Jitter w/ error bars
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1)
jitterMEANs
# Jitter w/ error bars
# for colors see https://r-charts.com/color-palettes/#discrete
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1,
notch = TRUE,
notchwidth = 0.5,)
jitterMEANs
# Jitter w/ error bars
# for colors see https://r-charts.com/color-palettes/#discrete
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1,
notch = TRUE,
notchwidth = 0.25,)
jitterMEANs
# Jitter w/ error bars
# for colors see https://r-charts.com/color-palettes/#discrete
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1,
notch = TRUE,
notchwidth = 0.75,)
jitterMEANs
# Jitter w/ error bars
# for colors see https://r-charts.com/color-palettes/#discrete
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
# the notch shows confidence interval
# when the notches between two groups don't overlap then
# it suggests medians are significantly different
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1,
notch = TRUE,
notchwidth = 0.5,)
jitterMEANs
# Jitter w/ error bars
# for colors see https://r-charts.com/color-palettes/#discrete
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
# the notch shows confidence interval
# when the notches between two groups don't overlap then
# it suggests medians are significantly different
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1,
notch = TRUE,
notchwidth = 0.75,)
jitterMEANs
# Jitter w/ error bars
# for colors see https://r-charts.com/color-palettes/#discrete
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
# the notch shows confidence interval
# when the notches between two groups don't overlap then
# it suggests medians are significantly different
#
jitterMEANs = jitterMEANs + geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1,
notch = TRUE,
notchwidth = 0.75) +
geom_text(stat = "summary",
label = "μ",
color = "#924900",
size = 4,
fontface = "bold")
jitterMEANs
# Jitter w/ error bars
# for colors see https://r-charts.com/color-palettes/#discrete
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
# the notch shows confidence interval
# when the notches between two groups don't overlap then
# it suggests medians are significantly different
#
jitterMEANs = jitterMEANs + #geom_point(stat = "summary") +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1,
notch = TRUE,
notchwidth = 0.75) +
geom_text(stat = "summary",
label = "μ",
color = "#924900",
size = 4,
fontface = "bold")
# Load up plot information variables
titleText = 'Rural public schools show smaller classroom sizes'
jitterMEANs
# Massachusetts State Police arrest details.
linkMass="https://github.com/DACSS-Visual/tabular_bivar_catcat/raw/refs/heads/main/data/MSP%20DFS%20Arrests%2019-20Q1.xlsx"
#see it
arrests = rio::import(linkMass,which = 1)
head(arrests)
arrests <- arrests %>%
select("Arrest Type", Age) %>%
rename(Arrest_Type = "Arrest Type")
tapply(arrests$Age,arrests$Arrest_Type, summary)
# set NA Ages to median age
arrests$Age[is.na(arrests$Age)] <- median(arrests$Age, na.rm = TRUE)
# Replace values in the column
arrests$Arrest_Type <- recode(arrests$Arrest_Type,
"F" = "Felony",
"O" = "Other",
"M" = "Misdemeanor",
"W" = "Warrant",
NA = "Unknown")
#see it
arrests = rio::import(linkMass,which = 1)
head(arrests)
arrests <- arrests %>%
select("Arrest Type", Age) %>%
rename(Arrest_Type = "Arrest Type")
tapply(arrests$Age,arrests$Arrest_Type, summary)
# set NA Ages to median age
arrests$Age[is.na(arrests$Age)] <- median(arrests$Age, na.rm = TRUE)
# set NA Arrest Types to "Unknown"
arrests$Arrest_Type[is.na(arrests$Arrest_Type)] <- "Unknown"
# Replace values in the column
arrests$Arrest_Type <- recode(arrests$Arrest_Type,
"F" = "Felony",
"O" = "Other",
"M" = "Misdemeanor",
"W" = "Warrant")
# Boxplot
baseArrest = ggplot(data = arrests,
aes(x = Arrest_Type,
y = Age))
boxArrest = baseArrest + geom_boxplot() + labs(title = "woof")
# Density
ggplot(arrests) +
geom_density(aes(x = Age),show.legend = F) +
facet_grid(reorder(Arrest_Type, Age, median) ~ .)
# Jitter w/ error bars
# for colors see https://r-charts.com/color-palettes/#discrete
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
# the notch shows confidence interval
# when the notches between two groups don't overlap then
# it suggests medians are significantly different
#
jitterMEANs = jitterMEANs +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1,
notch = TRUE,
notchwidth = 0.75) +
# use μ to indicate where mean is
geom_text(stat = "summary",
label = "μ",
color = "#924900",
size = 4,
fontface = "bold")
# Load up plot information variables
titleText = 'Rural public schools show smaller classroom sizes'
sub_titleText = 'Student teacher ratios (STR) of rural schools in Washington, 2019'
sourceText = 'Source: Massachusetts State Police'
x.AxisText = 'Arrest Type'
y.AxisText = 'Age of Arrestee'
legTitle = 'Greater than \nstatewide mean'
meanAnnotation = paste("Statewide STR mean =", round(meanSTRatio, 2))
# Decorate with contextual info
jitterMEANs = jitterMEANs +
labs(title = titleText,
subtitle = sub_titleText,
x = x.AxisText,
y = y.AxisText,
caption = sourceText,
colour = legTitle) +
theme(plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0),
legend.title = element_text(size = ),
legend.text = element_text(size = 8))
jitterMEANs
my_packages <- c("tidyverse",
"ggplot2",
"ggpubr",
"forcats",
"rio") # create vector of packages
invisible(lapply(my_packages, require, character.only = TRUE)) # load multiple packages
# Massachusetts State Police arrest details.
linkMass="https://github.com/DACSS-Visual/tabular_bivar_catcat/raw/refs/heads/main/data/MSP%20DFS%20Arrests%2019-20Q1.xlsx"
my_packages <- c("tidyverse",
"ggplot2",
"ggpubr",
"forcats",
"rio") # create vector of packages
invisible(lapply(my_packages, require, character.only = TRUE)) # load multiple packages
# Massachusetts State Police arrest details.
linkMass="https://github.com/DACSS-Visual/tabular_bivar_catcat/raw/refs/heads/main/data/MSP%20DFS%20Arrests%2019-20Q1.xlsx"
#see it
arrests = rio::import(linkMass,which = 1)
head(arrests)
arrests <- arrests %>%
select("Arrest Type", Age) %>%
rename(Arrest_Type = "Arrest Type")
tapply(arrests$Age,arrests$Arrest_Type, summary)
# set NA Ages to median age
arrests$Age[is.na(arrests$Age)] <- median(arrests$Age, na.rm = TRUE)
# set NA Arrest Types to "Unknown"
arrests$Arrest_Type[is.na(arrests$Arrest_Type)] <- "Unknown"
# Replace values in the column
arrests$Arrest_Type <- recode(arrests$Arrest_Type,
"F" = "Felony",
"O" = "Other",
"M" = "Misdemeanor",
"W" = "Warrant")
# Boxplot
baseArrest = ggplot(data = arrests,
aes(x = Arrest_Type,
y = Age))
boxArrest = baseArrest + geom_boxplot() + labs(title = "woof")
# Density
ggplot(arrests) +
geom_density(aes(x = Age),show.legend = F) +
facet_grid(reorder(Arrest_Type, Age, median) ~ .)
# Jitter w/ error bars
# for colors see https://r-charts.com/color-palettes/#discrete
baseMEANs = ggplot(arrests, aes(x = fct_infreq(Arrest_Type), # forcats to reorder
y = Age))
jitterMEANs = baseMEANs + geom_jitter(color = "#009292",
alpha = 0.1 #transparency
)
# layer a boxplot over the jitter point plot
# the notch shows confidence interval
# when the notches between two groups don't overlap then
# it suggests medians are significantly different
#
jitterMEANs = jitterMEANs +
geom_boxplot(alpha = 0.2, # Adjust alpha for transparency
fill = "#FFFF6D",
color = "#924900",
linewidth = 1,
notch = TRUE,
notchwidth = 0.75) +
# use μ to indicate where mean is
geom_text(stat = "summary",
label = "μ",
color = "#924900",
size = 4,
fontface = "bold")
# Load up plot information variables
titleText = 'Arrests centered on 30-40 year olds'
sub_titleText = 'Misdemeanor and warrant arrests lead in Massachusetts 2019-2020'
sourceText = 'Source: Massachusetts State Police'
x.AxisText = 'Arrest Type'
y.AxisText = 'Age of Arrestee'
legTitle = 'Greater than \nstatewide mean'
meanAnnotation = paste("Statewide STR mean =", round(meanSTRatio, 2))
# Decorate with contextual info
jitterMEANs = jitterMEANs +
labs(title = titleText,
subtitle = sub_titleText,
x = x.AxisText,
y = y.AxisText,
caption = sourceText,
colour = legTitle) +
theme(plot.caption = element_text(hjust = 0),
plot.title = element_text(hjust = 0),
legend.title = element_text(size = ),
legend.text = element_text(size = 8))
jitterMEANs
